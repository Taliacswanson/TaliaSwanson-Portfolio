---
title: "M1 Part 1 Data Analysis Exercise"
format: html
---


# Load Packages and Dataset

For this assignment we must download the `dslabs` package containing the `gapminder` dataset. Loading the package and dataset will ensure that all functions and data are correctly available.

```{r}
# Load package
# install.packages("dslabs") # run once if not installed
library(dslabs)
library(ggplot2) 

# Load the dataset
data("gapminder")
```



```{r}
str(gapminder)
summary(gapminder)
class(gapminder)
```

str ( ) will show structure

summary ( ) will give descriptive stats for each variable we have

class ( ) will tell us our object type 

# Subset African Countries

```{r}
# Subset African countries
africadata <- gapminder[gapminder$continent == "Africa", ]
str(africadata)
summary(africadata)
```


The task at hand is to focus only on data from Africa. This will restrict the data for our focus subset.

---

# Subsets for Analysis

```{r}
# Subset 1: Infant Mortality & Life Expectancy
life_infant <- africadata[, c("life_expectancy", "infant_mortality")]
str(life_infant)
summary(life_infant)

# Subset 2: Population & Life Expectancy
life_pop <- africadata[, c("life_expectancy", "population")]
str(life_pop)
summary(life_pop)
```

This is to create subsets for analysis within our already designated subset of Africa. We have two specific relationships of interest.

 - Life expectancy vs. infant mortality 

 - Life expectancy vs. population

---

# Plot Life Expectancy vs Infant Mortality

```{r}
ggplot(africadata, aes(x = infant_mortality, y = life_expectancy)) +
  geom_point() +   # scatter plot points
  labs(title = "Life Expectancy vs Infant Mortality (Africa)",
       x = "Infant Mortality",
       y = "Life Expectancy") +
  theme_minimal()  # clean visual style
```

This allows us to generate a scatterplot to show the relationship between life expectancy and infant morality in African countries. 

---

# Plot Life Expectancy vs Population

```{r}
ggplot(africadata, aes(x = population, y = life_expectancy)) +
  geom_point() +               # scatter plot points
  scale_x_log10() +            # log-scale for population
  labs(title = "Life Expectancy vs Population (Africa, log scale)",
       x = "Population",
       y = "Life Expectancy") +
  theme_minimal()              # clean visual style
```

Now we can examine the relaionshio between population size and life expectancy. However, we log-scale the x-axia, 'x', due to population variability. This scaling will improve the readability of our graph visual. 

---

# Focus on the Year 2000

```{r}
year2000 <- africadata[africadata$year == 2000, ]
str(year2000)
summary(year2000)
```

Some data years have inconsistent data or missing data. Therefore, we will focus on the year 2000 for a cleaner read.

---

# Plots for Year 2000

### Life Expectancy vs Infant Mortality

```{r}
plot(year2000$infant_mortality, year2000$life_expectancy,
     xlab="Infant Mortality",
     ylab="Life Expectancy",
     main="Year 2000: Life Expectancy vs Infant Mortality",
     pch=16)
```

### Life Expectancy vs Population

```{r}
plot(year2000$population, year2000$life_expectancy,
     xlab="Population (log scale)",
     ylab="Life Expectancy",
     main="Year 2000: Life Expectancy vs Population",
     log="x", pch=16)
```

---

# Linear Models

We will use simple linear models to see if life expectancy can be predicted from infant mortality or population size in the year 2000.

```{r}
# Life Expectancy ~ Infant Mortality
fit1 <- lm(life_expectancy ~ infant_mortality, data=year2000)
summary(fit1)

# Life Expectancy ~ Population
fit2 <- lm(life_expectancy ~ population, data=year2000)
summary(fit2)
```

Life_expectancy ~ infant_mortality tells us the relationship between life expectancy and infant mortality 

life_expectancy ~ population will show the relationship between country size and life expectancy 

summary ( ) will provide our descriptive statistics


